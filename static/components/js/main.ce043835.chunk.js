(this.webpackJsonpgenetherapy=this.webpackJsonpgenetherapy||[]).push([[0],{24:function(e,t,a){e.exports=a(53)},29:function(e,t){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(21),s=a.n(o),l=a(8),c=a(2),r=a(3),m=a(5),d=a(4),p=a(1),u=a(6),h=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"fade modal",role:"dialog",id:void 0!==this.props.id?this.props.id:"base_dlg_ctl"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header",style:{backgroundColor:"#53a2b8",color:"white"}},i.a.createElement("h4",{className:"modal-title pull-left"},void 0!==this.props.title?this.props.title:"New Item"),i.a.createElement("button",{type:"button",style:{color:"white",fontWeight:"bold"},className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7"),i.a.createElement("h3",{className:"clearfix"})),i.a.createElement("div",{className:"modal-body"},i.a.createElement("div",{className:"scrollablediv"},this.props.children)),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Close"),i.a.createElement("input",{type:"submit",className:"btn btn-primary","data-dismiss":"modal",value:"Continue",onClick:this.props.OnFinish})))))}}]),t}(n.Component),v=a(11),f=a.n(v),b=window.$,g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={title:a.props.title,description:a.props.description},a.onFinish=a.onFinish.bind(Object(p.a)(a)),a.openDialog=a.openDialog.bind(Object(p.a)(a)),a.closeDialog=a.closeDialog.bind(Object(p.a)(a)),a.clearControls=a.clearControls.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"clearControls",value:function(){this.setState({title:"",description:""})}},{key:"openDialog",value:function(){b("#new_section_dlg").modal("show")}},{key:"closeDialog",value:function(){b("#new_section_dlg").modal("close")}},{key:"onFinish",value:function(){this.props.onFinish&&(this.props.onFinish(Object(l.a)({},this.state,{id:f()()})),this.clearControls())}},{key:"render",value:function(){var e=this;return i.a.createElement(h,{title:"Define New Section....",id:"new_section_dlg",OnFinish:this.onFinish},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"control-label"},"Section Title"),i.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"control-label"},"Short Description"),i.a.createElement("textarea",{cols:8,rows:5,className:"form-control",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})))}}]),t}(i.a.Component),y=window.$,E="onAddItem",S="onRemoveItem",O="onChangeSection",N="onRemoveSection",j="onAddSection",k=("Bearer ".concat(y("#authToken").val()),new(a(22).Dispatcher)),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={itemStyle:{}},a.onActivate=a.onActivate.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.dispatch((function(t){switch(t.type){case O:t.payload.section.id==e.section.id?e.setState({itemStyle:{backgroundColor:"#f5f5f5"}}):e.setState({itemStyle:{backgroundColor:"#FFFFFF"}})}}))}},{key:"onActivate",value:function(){console.log("activate clicked"),this.props.onSelect&&this.props.onSelect(this)}},{key:"render",value:function(){var e=this;return i.a.createElement("a",{href:"#",onClick:this.onActivate,className:"list-group-item list-group-item-action flex-column align-items-start list-group-hover",style:this.state.itemStyle},i.a.createElement("div",{className:"d-flex w-100 justify-content-between"},i.a.createElement("span",{className:"pull-right",onClick:function(t){return e.props.parent.removeItem(e)}},i.a.createElement("span",{className:"btn btn-xs btn-default"},i.a.createElement("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true",onClick:function(t){return e.props.parent.removeItem(e)}}))),i.a.createElement("h5",{className:"mb-1"},this.props.title)),i.a.createElement("p",{className:"mb-1"},this.props.description))}}]),t}(i.a.Component),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={sections:[],selectedSection:null},a.removeItem=a.removeItem.bind(Object(p.a)(a)),a.onAddNewSection=a.onAddNewSection.bind(Object(p.a)(a)),a.onSelectSection=a.onSelectSection.bind(Object(p.a)(a)),a.getSectionIndex=a.getSectionIndex.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getSectionIndex",value:function(e){for(var t=-1,a=0;a<this.state.sections.length;a++)if(this.state.sections[a].id==e){t=a;break}return t}},{key:"onSelectSection",value:function(e){this.setState({selectedSection:e.props.section}),console.log("Changed Section : ".concat(JSON.stringify(e.props.section))),k.dispatch({type:O,payload:{section:e.props.section}}),this.forceUpdate()}},{key:"onAddNewSection",value:function(e){this.state.sections.push(e),k.dispatch({type:j,payload:{section:e}}),this.setState({selectedSection:e})}},{key:"removeItem",value:function(e){if(e.props.section){var t=this.getSectionIndex(e.props.section.id);if(-1==t)return;this.state.sections.splice(t,1),k.dispatch({type:N,payload:{section:e.props.section}}),this.forceUpdate()}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"panel panel-primary"},i.a.createElement("div",{className:"panel-heading"},i.a.createElement("h3",{className:"panel-title pull-left"},"Sections"),i.a.createElement("a",{className:"btn btn-default pull-right",onClick:function(t){return e.refs.section_dlg.openDialog()}},i.a.createElement("i",{className:"glyphicon glyphicon-plus"})),i.a.createElement("div",{className:"clearfix"})),i.a.createElement("div",{className:"panel-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 col-xs-12"},i.a.createElement("div",{className:"list-group"},this.state.sections.map((function(t){return i.a.createElement(C,{title:t.title,description:t.description,parent:e,section:t,onSelect:e.onSelectSection,active:null!=e.state.selectedSection&&t.id==e.state.selectedSection.id})}))),i.a.createElement(g,{ref:"section_dlg",onFinish:this.onAddNewSection})))),i.a.createElement("div",{className:"panel-footer"},i.a.createElement("div",{className:"btn-group clearfix",role:"group"},i.a.createElement("button",{className:"btn btn-primary",onClick:this.props.onSave,disabled:this.state.sections.length<=0},"Save"))))}}]),t}(n.Component),D=a(9),x=a.n(D),w=a(10),_=a.n(w),I=a(7),q=window.$,T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={title:a.props.title,description:"",value:void 0===a.props.value?"":a.props.value},a.openDialog=a.openDialog.bind(Object(p.a)(a)),a.closeDialog=a.closeDialog.bind(Object(p.a)(a)),a.onFinish=a.onFinish.bind(Object(p.a)(a)),a.clearControls=a.clearControls.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"clearControls",value:function(){this.setState({title:"",description:"",value:""})}},{key:"onFinish",value:function(){this.props.OnFinish&&(this.props.OnFinish(this.state.title,this.state.value),this.clearControls())}},{key:"closeDialog",value:function(){q("#txt_dlg_ctl").modal("close")}},{key:"openDialog",value:function(){q("#txt_dlg_ctl").modal("show")}},{key:"render",value:function(){var e=this;return i.a.createElement(h,{title:"New Text Item",id:"txt_dlg_ctl",OnFinish:this.onFinish},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"control-label"},"Title"),i.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"control-label"},"Contents"),i.a.createElement(x.a,{style:{height:400},editor:_.a,data:I.Base64.decode(this.state.value),onChange:function(t,a){var n=a.getData();e.setState({value:I.Base64.encode(n)})}})))}}]),t}(n.Component),B=window.$,A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={title:a.props.title,description:a.props.description||"",sequence:a.props.sequence||"",format:a.props.subtype||""},a.onFinish=a.onFinish.bind(Object(p.a)(a)),a.openDialog=a.openDialog.bind(Object(p.a)(a)),a.closeDialog=a.closeDialog.bind(Object(p.a)(a)),a.clearControls=a.clearControls.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"clearControls",value:function(){this.setState({title:"",description:"",sequence:"",subtype:""})}},{key:"closeDialog",value:function(){B("#seq_dlg_ctl").modal("close")}},{key:"openDialog",value:function(){B("#seq_dlg_ctl").modal("show")}},{key:"onFinish",value:function(){this.props.onFinish&&(this.props.onFinish(this.state),this.clearControls())}},{key:"render",value:function(){var e=this;return i.a.createElement(h,{title:"New Sequence Item",id:"seq_dlg_ctl",OnFinish:this.onFinish},i.a.createElement("div",{className:"form-group col-md-6"},i.a.createElement("label",{className:"control-label"},"Title"),i.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),i.a.createElement("div",{className:"form-group col-md-6"},i.a.createElement("label",{className:"control-label"},"Sequence Type"),i.a.createElement("select",{onChange:function(t){e.setState({format:t.target.value})},className:"form-control"},i.a.createElement("option",{value:"fasta"},"Fasta File"),i.a.createElement("option",{value:"genbank"},"GenBank File"),i.a.createElement("option",{value:"pdb"},"PDB File"),i.a.createElement("option",{value:"gff"},"GFF File"),i.a.createElement("option",{value:"other"},"Other File"))),i.a.createElement("div",{className:"form-group col-md-8"},i.a.createElement("label",{className:"control-label"},"Sequence Description"),i.a.createElement(x.a,{style:{height:400},editor:_.a,data:I.Base64.decode(this.state.description),onChange:function(t,a){var n=a.getData();e.setState({description:I.Base64.encode(n)})}})),i.a.createElement("div",{className:"form-group col-md-4"},i.a.createElement("label",{className:"control-label"},"Raw Sequence"),i.a.createElement("textarea",{cols:8,rows:25,className:"form-control",value:I.Base64.decode(this.state.sequence),onChange:function(t){return e.setState({sequence:I.Base64.encode(t.target.value)})}})))}}]),t}(i.a.Component),R=window.$,U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={title:a.props.title,description:"",value:void 0===a.props.value?"":a.props.value},a.openDialog=a.openDialog.bind(Object(p.a)(a)),a.closeDialog=a.closeDialog.bind(Object(p.a)(a)),a.onFinish=a.onFinish.bind(Object(p.a)(a)),a.clearControls=a.clearControls.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"clearControls",value:function(){this.setState({title:"",description:"",value:""})}},{key:"onFinish",value:function(){this.props.onFinish&&(this.props.onFinish(Object(l.a)({},this.state)),this.clearControls())}},{key:"closeDialog",value:function(){R("#refs_dlg_ctl").modal("close")}},{key:"openDialog",value:function(){R("#refs_dlg_ctl").modal("show")}},{key:"render",value:function(){var e=this;return i.a.createElement(h,{title:"New References Item",id:"refs_dlg_ctl",OnFinish:this.onFinish},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"control-label"},"Title"),i.a.createElement("input",{type:"text",className:"form-control",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{className:"control-label"},"References"),i.a.createElement(x.a,{style:{height:400},editor:_.a,data:I.Base64.decode(this.state.value),onChange:function(t,a){var n=a.getData();e.setState({value:I.Base64.encode(n)})}})))}}]),t}(n.Component),$=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("a",Object.assign({className:"list-group-item clearfix"},this.props),this.props.title,i.a.createElement("span",{className:"pull-right",onClick:function(t){return e.props.parent.removeItem(e)}},i.a.createElement("span",{className:"btn btn-xs btn-default"},i.a.createElement("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true",onClick:function(t){return e.props.parent.removeItem(e)}}))))}}]),t}(i.a.Component);var J=new(function(){function e(){Object(c.a)(this,e),this.component={},this.getSharedComponent=this.getSharedComponent.bind(this),this.setSharedComponent=this.setSharedComponent.bind(this)}return Object(r.a)(e,[{key:"getSharedComponent",value:function(){return this.component}},{key:"setSharedComponent",value:function(e){this.component=e}}]),e}()),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={activeSection:null,items:[]},a.onTextDialogFinish=a.onTextDialogFinish.bind(Object(p.a)(a)),a.onSequenceDialogFinish=a.onSequenceDialogFinish.bind(Object(p.a)(a)),a.onReferencesDialogFinish=a.onReferencesDialogFinish.bind(Object(p.a)(a)),a.removeItem=a.removeItem.bind(Object(p.a)(a)),a.getItemIndex=a.getItemIndex.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"getItemIndex",value:function(e){for(var t=-1,a=0;a<this.state.items.length;a++)if(this.state.items[a].id==e){t=a;break}return t}},{key:"componentDidMount",value:function(){var e=this;k.register((function(t){switch(t.type){case O:if(t.payload&&t.payload.section&&(e.setState({activeSection:t.payload.section}),t.payload.section)){var a=function(e,t){var a=null;if(!e.sections)return a;for(var n=0;n<e.sections.length;n++)if(t==e.sections[n].id){a=e.sections[n];break}return a}(J.getSharedComponent(),t.payload.section.id);if(a){var n=a.items||[];e.setState({items:n})}}break;case N:e.state.activeSection&&e.state.activeSection.id==t.payload.section.id&&(e.state.activeSection=null,e.state.items=[],e.setState({activeSection:null,items:[]}))}}))}},{key:"removeItem",value:function(e){if(e){var t=this.getItemIndex(e.props.id);t>=0&&(this.state.items.splice(t,1),k.dispatch({type:S,payload:{item_id:e.props.id,section_id:this.state.activeSection.id}})),this.forceUpdate()}}},{key:"onSequenceDialogFinish",value:function(e){var t=f()(),a=Object(l.a)({},e,{id:t,type:"sequence"});this.state.items.indexOf(a)<0&&this.state.items.push(a),k.dispatch({type:E,payload:{section_id:this.state.activeSection.id,item:a}}),this.forceUpdate()}},{key:"onTextDialogFinish",value:function(e,t){console.log("Title : ".concat(e," , value : ").concat(t));var a={title:e,value:t,id:f()(),type:"text"};this.state.items.indexOf(a)<0&&this.state.items.push(a),k.dispatch({type:E,payload:{section_id:this.state.activeSection.id,item:a}}),this.forceUpdate()}},{key:"onReferencesDialogFinish",value:function(e){var t=f()(),a=Object(l.a)({},e,{id:t,type:"references"});this.state.items.indexOf(a)<0&&this.state.items.push(a),k.dispatch({type:E,payload:{section_id:this.state.activeSection.id,item:a}}),this.forceUpdate()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"panel panel-default",style:{marginLeft:0}},i.a.createElement("div",{className:"panel-heading"},i.a.createElement("h3",{className:"panel-title pull-left"},"Editing Component"),null===this.state.activeSection||J.getSharedComponent().sections.length<=0?null:i.a.createElement("div",{className:"btn-group pull-right"},i.a.createElement("button",{type:"button",className:"btn btn-default dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Actions ",i.a.createElement("span",{className:"caret"})),i.a.createElement("ul",{className:"dropdown-menu"},i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:function(t){return e.refs.txt_dlg.openDialog()}},"Text Item")),i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:function(t){return e.refs.seq_dlg.openDialog()}},"Sequence Item")),i.a.createElement("li",{role:"separator",className:"divider"}),i.a.createElement("li",null,i.a.createElement("a",{href:"#",onClick:function(t){return e.refs.ref_dlg.openDialog()}},"References Item")))),i.a.createElement(T,{ref:"txt_dlg",OnFinish:this.onTextDialogFinish}),i.a.createElement(A,{ref:"seq_dlg",onFinish:this.onSequenceDialogFinish}),i.a.createElement(U,{ref:"ref_dlg",onFinish:this.onReferencesDialogFinish}),i.a.createElement("div",{className:"clearfix"}),i.a.createElement("span",{className:"help help-block"},null==this.state.activeSection||J.getSharedComponent().sections.length<=0?"":this.state.activeSection.title)),i.a.createElement("div",{className:"panel-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 col-sm-12"},i.a.createElement("ul",{className:"list-group"},this.state.items.map((function(t){return i.a.createElement($,{key:t.id,parent:e,title:t.title,id:t.id})})))))),i.a.createElement("div",{className:"panel-footer"}))}}]),t}(n.Component),z=a(23),G=a.n(z),L=(a(52),window.$),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={component:{sections:[]}},a.getSectionIndex=a.getSectionIndex.bind(Object(p.a)(a)),a.onSave=a.onSave.bind(Object(p.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"onSave",value:function(){console.log("Data : ".concat(JSON.stringify(this.state.component))),L("#component_data").val(JSON.stringify(this.state.component))}},{key:"getSectionIndex",value:function(e){for(var t=-1,a=0;a<this.state.component.sections.length;a++)if(this.state.component.sections[a].id==e){t=a;break}return t}},{key:"componentDidMount",value:function(){var e=this;k.register((function(t){switch(t.type){case E:var a=t.payload.section_id,n=e.getSectionIndex(a);if(n>=0){var i=e.state.component.sections[n];i.items||(i.items=[]),i.items.push(Object(l.a)({},t.payload.item))}break;case S:var o=t.payload.section_id,s=e.getSectionIndex(o);if(s>=0){var c=e.state.component.sections[s];if(c){for(var r=-1,m=0;m<c.items.length;m++)if(c.items[m].id==t.payload.item_id){r=m;break}r>=0&&c.items.splice(r,1)}}break;case j:t.payload&&t.payload.section&&e.state.component.sections.push(t.payload.section);break;case N:if(t.payload&&t.payload.section){var d=e.getSectionIndex(t.payload.section.id);if(-1==d)return;e.state.component.sections.splice(d,1)}}J.setSharedComponent(Object(l.a)({},e.state.component))}))}},{key:"render",value:function(){return i.a.createElement(G.a,{primaryIndex:0,percentage:!0,primaryMinSize:25,secondaryInitialSize:70,secondaryMinSize:70},i.a.createElement("div",null,i.a.createElement(F,{component:this.state.component,onSave:this.onSave})),i.a.createElement("div",null,i.a.createElement(M,{component:this.state.component})))}}]),t}(n.Component);s.a.render(i.a.createElement(P,null),document.getElementById("root"))}},[[24,1,2]]]);